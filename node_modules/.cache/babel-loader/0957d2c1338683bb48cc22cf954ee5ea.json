{"ast":null,"code":"import _classCallCheck from \"/home/aashan/2048/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aashan/2048/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aashan/2048/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aashan/2048/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aashan/2048/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aashan/2048/src/Components/Landingpage/Landingpage.js\";\nimport React from 'react';\nimport './Landingpage.css';\nimport { UserSession, AppConfig } from 'blockstack';\nvar appConfig = new AppConfig();\nvar userSession = new UserSession({\n  appConfig: appConfig\n});\n\nvar Landingpage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Landingpage, _React$Component);\n\n  function Landingpage(props) {\n    var _this;\n\n    _classCallCheck(this, Landingpage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Landingpage).call(this, props));\n\n    _this.handleSignin = function (e) {\n      e.preventDefault();\n      userSession.redirectToSignIn();\n    };\n\n    _this.fetchdata = function () {\n      if (userSession.isUserSignedIn()) {\n        // const option={encrypt : false};\n        // var temp=[];\n        // userSession.putFile(\"Journaldata.json\",JSON.stringify(temp),option); \n        console.log(\"Hi\");\n        var options = {\n          decrypt: false\n        };\n        userSession.getFile('Tictactoe.json', options).then(function (file) {\n          console.log(\"Hi1\");\n          if (file) localStorage.setItem(\"tictactoe\", file);\n        }).catch(function (error) {\n          console.log(error);\n        }).finally(function () {\n          _this.setState({\n            loading: false\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(Landingpage, [{\n    key: \"handleSignOut\",\n    value: function handleSignOut(e) {\n      e.preventDefault();\n      localStorage.removeItem(\"tictactoe\");\n      userSession.signUserOut(window.location.origin);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (userSession.isSignInPending()) {\n        userSession.handlePendingSignIn().then(function (userData) {\n          _this2.props.history.push(\"/\");\n\n          window.history.replaceState({}, document.title, \"/\");\n\n          _this2.setState({\n            loading: true\n          });\n        }).finally(function () {\n          _this2.fetchdata();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"land\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Cirulli\"), React.createElement(\"div\", {\n        className: \"rowland\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Try out Tic-Tac-Toe on decentralized web..\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Enjoy!\"), !userSession.isUserSignedIn() ? React.createElement(\"button\", {\n        onClick: this.handleSignin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Login using blockstack\") : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSignOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(\"a\", {\n        href: \"/tictactoe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Let's Play\"), React.createElement(\"a\", {\n        href: \"/scoreboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Scoreboard\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"footerland\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Copyright@tictactoe2019\"), this.state.loading ? React.createElement(\"div\", {\n        className: \"loadcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })) : null);\n    }\n  }]);\n\n  return Landingpage;\n}(React.Component);\n\nexport default Landingpage;","map":{"version":3,"sources":["/home/aashan/2048/src/Components/Landingpage/Landingpage.js"],"names":["React","UserSession","AppConfig","appConfig","userSession","Landingpage","props","handleSignin","e","preventDefault","redirectToSignIn","fetchdata","isUserSignedIn","console","log","options","decrypt","getFile","then","file","localStorage","setItem","catch","error","finally","setState","loading","state","removeItem","signUserOut","window","location","origin","isSignInPending","handlePendingSignIn","userData","history","push","replaceState","document","title","handleSignOut","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Landingpage.css'\nimport {\n  UserSession,\n  AppConfig,\n} from 'blockstack';\nconst appConfig = new AppConfig()\nconst userSession = new UserSession({ appConfig: appConfig })\nclass Landingpage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    }\n  }\n  handleSignin = (e) => {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n  handleSignOut(e) {\n    e.preventDefault();\n    localStorage.removeItem(\"tictactoe\");\n    userSession.signUserOut(window.location.origin);\n  }\n  fetchdata = () => {\n    if (userSession.isUserSignedIn()) {\n      // const option={encrypt : false};\n      // var temp=[];\n      // userSession.putFile(\"Journaldata.json\",JSON.stringify(temp),option); \n      console.log(\"Hi\");\n      const options = { decrypt: false };\n      userSession.getFile('Tictactoe.json', options)\n        .then((file) => {\n          console.log(\"Hi1\");\n          if (file)\n            localStorage.setItem(\"tictactoe\", file);\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          this.setState({ loading: false });\n        });\n    }\n  }\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        this.props.history.push(\"/\");\n        window.history.replaceState({}, document.title, \"/\");\n        this.setState({ loading: true });\n      }).finally(() => {\n        this.fetchdata();\n      })\n    }\n  }\n  render() {\n\n    return (\n      <div className=\"land\">\n        <div className=\"header\">\n          Cirulli\n        </div>\n        <div className=\"rowland\">\n          <div className=\"leftrow\">\n            <p>Try out Tic-Tac-Toe on decentralized web..</p>\n            <p>Enjoy!</p>\n            {!userSession.isUserSignedIn() ?\n              <button onClick={this.handleSignin}>Login using blockstack</button> :\n              <div>\n                <button onClick={this.handleSignOut}>Logout</button>\n                <a href=\"/tictactoe\">Let's Play</a>\n                <a href=\"/scoreboard\">Scoreboard</a>\n              </div>}\n          </div>\n          <div>\n\n          </div>\n        </div>\n        <div className=\"footerland\">Copyright@tictactoe2019</div>\n        {this.state.loading ? <div className=\"loadcontainer\"><div className=\"loader\" /></div> : null}\n      </div>\n    )\n  }\n}\nexport default Landingpage;"]},"metadata":{},"sourceType":"module"}