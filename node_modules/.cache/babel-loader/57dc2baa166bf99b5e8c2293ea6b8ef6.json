{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/aashan/2048/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/aashan/2048/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // @ts-ignore: Could not find a declaration file for module\n\nvar inspector = require(\"schema-inspector\");\n\nvar profileTokens_1 = require(\"./profileTokens\");\n\nvar profileProofs_1 = require(\"./profileProofs\");\n\nvar profileZoneFiles_1 = require(\"./profileZoneFiles\");\n\nvar schemaDefinition = {\n  type: 'object',\n  properties: {\n    '@context': {\n      type: 'string',\n      optional: true\n    },\n    '@type': {\n      type: 'string'\n    }\n  }\n};\n/**\n * Represents a user profile\n *\n */\n\nvar Profile =\n/*#__PURE__*/\nfunction () {\n  function Profile() {\n    var profile = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Profile);\n\n    this._profile = Object.assign({}, {\n      '@context': 'http://schema.org/'\n    }, profile);\n  }\n\n  _createClass(Profile, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return Object.assign({}, this._profile);\n    }\n  }, {\n    key: \"toToken\",\n    value: function toToken(privateKey) {\n      return profileTokens_1.signProfileToken(this.toJSON(), privateKey);\n    }\n  }], [{\n    key: \"validateSchema\",\n    value: function validateSchema(profile) {\n      var strict = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      schemaDefinition.strict = strict;\n      return inspector.validate(schemaDefinition, profile);\n    }\n  }, {\n    key: \"fromToken\",\n    value: function fromToken(token) {\n      var publicKeyOrAddress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var profile = profileTokens_1.extractProfile(token, publicKeyOrAddress);\n      return new Profile(profile);\n    }\n  }, {\n    key: \"makeZoneFile\",\n    value: function makeZoneFile(domainName, tokenFileURL) {\n      return profileZoneFiles_1.makeProfileZoneFile(domainName, tokenFileURL);\n    }\n  }, {\n    key: \"validateProofs\",\n    value: function validateProofs(domainName) {\n      return profileProofs_1.validateProofs(new Profile().toJSON(), domainName);\n    }\n  }]);\n\n  return Profile;\n}();\n\nexports.Profile = Profile;","map":{"version":3,"sources":["../../src/profiles/profile.ts"],"names":[],"mappings":";;;;;;;;IAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAEA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAM,gBAAgB,GAAyB;AAC7C,EAAA,IAAI,EAAE,QADuC;AAE7C,EAAA,UAAU,EAAE;AACV,gBAAY;AAAE,MAAA,IAAI,EAAE,QAAR;AAAkB,MAAA,QAAQ,EAAE;AAA5B,KADF;AAEV,aAAS;AAAE,MAAA,IAAI,EAAE;AAAR;AAFC;AAFiC,CAA/C;AAQA;;;;;IAIa,O;;;AAGX,qBAAwB;AAAA,QAAZ,OAAY,uEAAF,EAAE;;AAAA;;AACtB,SAAK,QAAL,GAAgB,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB;AAChC,kBAAY;AADoB,KAAlB,EAEb,OAFa,CAAhB;AAGD;;;;6BAEK;AACJ,aAAO,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAK,QAAvB,CAAP;AACD;;;4BAEO,U,EAAkB;AACxB,aAAO,eAAA,CAAA,gBAAA,CAAiB,KAAK,MAAL,EAAjB,EAAgC,UAAhC,CAAP;AACD;;;mCAEqB,O,EAA4B;AAAA,UAAd,MAAc,uEAAL,KAAK;AAChD,MAAA,gBAAgB,CAAC,MAAjB,GAA0B,MAA1B;AACA,aAAO,SAAS,CAAC,QAAV,CAAmB,gBAAnB,EAAqC,OAArC,CAAP;AACD;;;8BAEgB,K,EAAuD;AAAA,UAAxC,kBAAwC,uEAAJ,IAAI;AACtE,UAAM,OAAO,GAAG,eAAA,CAAA,cAAA,CAAe,KAAf,EAAsB,kBAAtB,CAAhB;AACA,aAAO,IAAI,OAAJ,CAAY,OAAZ,CAAP;AACD;;;iCAEmB,U,EAAoB,Y,EAAoB;AAC1D,aAAO,kBAAA,CAAA,mBAAA,CAAoB,UAApB,EAAgC,YAAhC,CAAP;AACD;;;mCAEqB,U,EAAkB;AACtC,aAAO,eAAA,CAAA,cAAA,CAAe,IAAI,OAAJ,GAAc,MAAd,EAAf,EAAuC,UAAvC,CAAP;AACD;;;;;;AAjCH,OAAA,CAAA,OAAA,GAAA,OAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// @ts-ignore: Could not find a declaration file for module\nconst inspector = require(\"schema-inspector\");\nconst profileTokens_1 = require(\"./profileTokens\");\nconst profileProofs_1 = require(\"./profileProofs\");\nconst profileZoneFiles_1 = require(\"./profileZoneFiles\");\nconst schemaDefinition = {\n    type: 'object',\n    properties: {\n        '@context': { type: 'string', optional: true },\n        '@type': { type: 'string' }\n    }\n};\n/**\n * Represents a user profile\n *\n */\nclass Profile {\n    constructor(profile = {}) {\n        this._profile = Object.assign({}, {\n            '@context': 'http://schema.org/'\n        }, profile);\n    }\n    toJSON() {\n        return Object.assign({}, this._profile);\n    }\n    toToken(privateKey) {\n        return profileTokens_1.signProfileToken(this.toJSON(), privateKey);\n    }\n    static validateSchema(profile, strict = false) {\n        schemaDefinition.strict = strict;\n        return inspector.validate(schemaDefinition, profile);\n    }\n    static fromToken(token, publicKeyOrAddress = null) {\n        const profile = profileTokens_1.extractProfile(token, publicKeyOrAddress);\n        return new Profile(profile);\n    }\n    static makeZoneFile(domainName, tokenFileURL) {\n        return profileZoneFiles_1.makeProfileZoneFile(domainName, tokenFileURL);\n    }\n    static validateProofs(domainName) {\n        return profileProofs_1.validateProofs(new Profile().toJSON(), domainName);\n    }\n}\nexports.Profile = Profile;\n//# sourceMappingURL=profile.js.map"]},"metadata":{},"sourceType":"script"}