{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeZoneFile = makeZoneFile;\n\nvar _zoneFileTemplate = require(\"./zoneFileTemplate\");\n\nfunction makeZoneFile(jsonZoneFile) {\n  var template = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _zoneFileTemplate.getZoneFileTemplate)();\n  template = processOrigin(jsonZoneFile['$origin'], template);\n  template = processTTL(jsonZoneFile['$ttl'], template);\n  template = processSOA(jsonZoneFile['soa'], template);\n  template = processNS(jsonZoneFile['ns'], template);\n  template = processA(jsonZoneFile['a'], template);\n  template = processAAAA(jsonZoneFile['aaaa'], template);\n  template = processCNAME(jsonZoneFile['cname'], template);\n  template = processMX(jsonZoneFile['mx'], template);\n  template = processPTR(jsonZoneFile['ptr'], template);\n  template = processTXT(jsonZoneFile['txt'], template);\n  template = processSRV(jsonZoneFile['srv'], template);\n  template = processSPF(jsonZoneFile['spf'], template);\n  template = processURI(jsonZoneFile['uri'], template);\n  template = processValues(jsonZoneFile, template);\n  return template.replace(/\\n{2,}/gim, '\\n\\n');\n}\n\n;\n\nfunction processOrigin(data, template) {\n  var ret = '';\n\n  if (typeof data !== 'undefined') {\n    ret += '$ORIGIN ' + data;\n  }\n\n  return template.replace('{$origin}', ret);\n}\n\n;\n\nfunction processTTL(data, template) {\n  var ret = '';\n\n  if (typeof data !== 'undefined') {\n    ret += '$TTL ' + data;\n  }\n\n  return template.replace('{$ttl}', ret);\n}\n\n;\n\nfunction processSOA(data, template) {\n  var ret = template;\n\n  if (typeof data !== 'undefined') {\n    data.name = data.name || '@';\n    data.ttl = data.ttl || '';\n\n    for (var key in data) {\n      var value = data[key];\n      ret = ret.replace('{' + key + '}', value + '\\t');\n    }\n  }\n\n  return ret;\n}\n\n;\n\nfunction processNS(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var record = _step.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tNS\\t' + record.host + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  return template.replace('{ns}', ret);\n}\n\n;\n\nfunction processA(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var record = _step2.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tA\\t' + record.ip + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return template.replace('{a}', ret);\n}\n\n;\n\nfunction processAAAA(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = data[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var record = _step3.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tAAAA\\t' + record.ip + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  }\n\n  return template.replace('{aaaa}', ret);\n}\n\n;\n\nfunction processCNAME(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = data[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var record = _step4.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tCNAME\\t' + record.alias + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n          _iterator4.return();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n  }\n\n  return template.replace('{cname}', ret);\n}\n\n;\n\nfunction processMX(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n      for (var _iterator5 = data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var record = _step5.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tMX\\t' + record.preference + '\\t' + record.host + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n          _iterator5.return();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  }\n\n  return template.replace('{mx}', ret);\n}\n\n;\n\nfunction processPTR(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = data[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var record = _step6.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tPTR\\t' + record.host + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n          _iterator6.return();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  }\n\n  return template.replace('{ptr}', ret);\n}\n\n;\n\nfunction processTXT(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n\n    try {\n      for (var _iterator7 = data[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n        var record = _step7.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tTXT\\t';\n        var txtData = record.txt;\n\n        if (typeof txtData === 'string') {\n          ret += '\"' + txtData + '\"';\n        } else if (txtData instanceof Array) {\n          ret += txtData.map(function (datum) {\n            return '\"' + datum + '\"';\n          }).join(' ');\n        }\n\n        ret += '\\n';\n      }\n    } catch (err) {\n      _didIteratorError7 = true;\n      _iteratorError7 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion7 && _iterator7.return != null) {\n          _iterator7.return();\n        }\n      } finally {\n        if (_didIteratorError7) {\n          throw _iteratorError7;\n        }\n      }\n    }\n  }\n\n  return template.replace('{txt}', ret);\n}\n\n;\n\nfunction processSRV(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion8 = true;\n    var _didIteratorError8 = false;\n    var _iteratorError8 = undefined;\n\n    try {\n      for (var _iterator8 = data[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n        var record = _step8.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tSRV\\t' + record.priority + '\\t';\n        ret += record.weight + '\\t';\n        ret += record.port + '\\t';\n        ret += record.target + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError8 = true;\n      _iteratorError8 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion8 && _iterator8.return != null) {\n          _iterator8.return();\n        }\n      } finally {\n        if (_didIteratorError8) {\n          throw _iteratorError8;\n        }\n      }\n    }\n  }\n\n  return template.replace('{srv}', ret);\n}\n\n;\n\nfunction processSPF(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion9 = true;\n    var _didIteratorError9 = false;\n    var _iteratorError9 = undefined;\n\n    try {\n      for (var _iterator9 = data[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n        var record = _step9.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tSPF\\t' + record.data + '\\n';\n      }\n    } catch (err) {\n      _didIteratorError9 = true;\n      _iteratorError9 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion9 && _iterator9.return != null) {\n          _iterator9.return();\n        }\n      } finally {\n        if (_didIteratorError9) {\n          throw _iteratorError9;\n        }\n      }\n    }\n  }\n\n  return template.replace('{spf}', ret);\n}\n\n;\n\nfunction processURI(data, template) {\n  var ret = '';\n\n  if (data) {\n    var _iteratorNormalCompletion10 = true;\n    var _didIteratorError10 = false;\n    var _iteratorError10 = undefined;\n\n    try {\n      for (var _iterator10 = data[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n        var record = _step10.value;\n        ret += (record.name || '@') + '\\t';\n        if (record.ttl) ret += record.ttl + '\\t';\n        ret += 'IN\\tURI\\t' + record.priority + '\\t';\n        ret += record.weight + '\\t';\n        ret += '\"' + record.target + '\"\\n';\n      }\n    } catch (err) {\n      _didIteratorError10 = true;\n      _iteratorError10 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion10 && _iterator10.return != null) {\n          _iterator10.return();\n        }\n      } finally {\n        if (_didIteratorError10) {\n          throw _iteratorError10;\n        }\n      }\n    }\n  }\n\n  return template.replace('{uri}', ret);\n}\n\n;\n\nfunction processValues(jsonZoneFile, template) {\n  template = template.replace('{zone}', jsonZoneFile['$origin'] || (jsonZoneFile['soa'] ? jsonZoneFile['soa']['name'] : false) || '');\n  template = template.replace('{datetime}', new Date().toISOString());\n  var time = Math.round(Date.now() / 1000);\n  return template.replace('{time}', \"\".concat(time));\n}\n\n;","map":{"version":3,"sources":["/home/aashan/2048/node_modules/zone-file/lib/makeZoneFile.js"],"names":["Object","defineProperty","exports","value","makeZoneFile","_zoneFileTemplate","require","jsonZoneFile","template","getZoneFileTemplate","processOrigin","processTTL","processSOA","processNS","processA","processAAAA","processCNAME","processMX","processPTR","processTXT","processSRV","processSPF","processURI","processValues","replace","data","ret","name","ttl","key","record","host","ip","alias","preference","txtData","txt","Array","map","datum","join","priority","weight","port","target","Date","toISOString","time","Math","round","now"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeZoneFile = makeZoneFile;\n\nvar _zoneFileTemplate = require(\"./zoneFileTemplate\");\n\nfunction makeZoneFile(jsonZoneFile, template = (0, _zoneFileTemplate.getZoneFileTemplate)()) {\n  template = processOrigin(jsonZoneFile['$origin'], template);\n  template = processTTL(jsonZoneFile['$ttl'], template);\n  template = processSOA(jsonZoneFile['soa'], template);\n  template = processNS(jsonZoneFile['ns'], template);\n  template = processA(jsonZoneFile['a'], template);\n  template = processAAAA(jsonZoneFile['aaaa'], template);\n  template = processCNAME(jsonZoneFile['cname'], template);\n  template = processMX(jsonZoneFile['mx'], template);\n  template = processPTR(jsonZoneFile['ptr'], template);\n  template = processTXT(jsonZoneFile['txt'], template);\n  template = processSRV(jsonZoneFile['srv'], template);\n  template = processSPF(jsonZoneFile['spf'], template);\n  template = processURI(jsonZoneFile['uri'], template);\n  template = processValues(jsonZoneFile, template);\n  return template.replace(/\\n{2,}/gim, '\\n\\n');\n}\n\n;\n\nfunction processOrigin(data, template) {\n  let ret = '';\n\n  if (typeof data !== 'undefined') {\n    ret += '$ORIGIN ' + data;\n  }\n\n  return template.replace('{$origin}', ret);\n}\n\n;\n\nfunction processTTL(data, template) {\n  let ret = '';\n\n  if (typeof data !== 'undefined') {\n    ret += '$TTL ' + data;\n  }\n\n  return template.replace('{$ttl}', ret);\n}\n\n;\n\nfunction processSOA(data, template) {\n  let ret = template;\n\n  if (typeof data !== 'undefined') {\n    data.name = data.name || '@';\n    data.ttl = data.ttl || '';\n\n    for (const key in data) {\n      const value = data[key];\n      ret = ret.replace('{' + key + '}', value + '\\t');\n    }\n  }\n\n  return ret;\n}\n\n;\n\nfunction processNS(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tNS\\t' + record.host + '\\n';\n    }\n  }\n\n  return template.replace('{ns}', ret);\n}\n\n;\n\nfunction processA(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tA\\t' + record.ip + '\\n';\n    }\n  }\n\n  return template.replace('{a}', ret);\n}\n\n;\n\nfunction processAAAA(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tAAAA\\t' + record.ip + '\\n';\n    }\n  }\n\n  return template.replace('{aaaa}', ret);\n}\n\n;\n\nfunction processCNAME(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tCNAME\\t' + record.alias + '\\n';\n    }\n  }\n\n  return template.replace('{cname}', ret);\n}\n\n;\n\nfunction processMX(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tMX\\t' + record.preference + '\\t' + record.host + '\\n';\n    }\n  }\n\n  return template.replace('{mx}', ret);\n}\n\n;\n\nfunction processPTR(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tPTR\\t' + record.host + '\\n';\n    }\n  }\n\n  return template.replace('{ptr}', ret);\n}\n\n;\n\nfunction processTXT(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tTXT\\t';\n      const txtData = record.txt;\n\n      if (typeof txtData === 'string') {\n        ret += '\"' + txtData + '\"';\n      } else if (txtData instanceof Array) {\n        ret += txtData.map(function (datum) {\n          return '\"' + datum + '\"';\n        }).join(' ');\n      }\n\n      ret += '\\n';\n    }\n  }\n\n  return template.replace('{txt}', ret);\n}\n\n;\n\nfunction processSRV(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tSRV\\t' + record.priority + '\\t';\n      ret += record.weight + '\\t';\n      ret += record.port + '\\t';\n      ret += record.target + '\\n';\n    }\n  }\n\n  return template.replace('{srv}', ret);\n}\n\n;\n\nfunction processSPF(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tSPF\\t' + record.data + '\\n';\n    }\n  }\n\n  return template.replace('{spf}', ret);\n}\n\n;\n\nfunction processURI(data, template) {\n  let ret = '';\n\n  if (data) {\n    for (const record of data) {\n      ret += (record.name || '@') + '\\t';\n      if (record.ttl) ret += record.ttl + '\\t';\n      ret += 'IN\\tURI\\t' + record.priority + '\\t';\n      ret += record.weight + '\\t';\n      ret += '\"' + record.target + '\"\\n';\n    }\n  }\n\n  return template.replace('{uri}', ret);\n}\n\n;\n\nfunction processValues(jsonZoneFile, template) {\n  template = template.replace('{zone}', jsonZoneFile['$origin'] || (jsonZoneFile['soa'] ? jsonZoneFile['soa']['name'] : false) || '');\n  template = template.replace('{datetime}', new Date().toISOString());\n  const time = Math.round(Date.now() / 1000);\n  return template.replace('{time}', `${time}`);\n}\n\n;"]},"metadata":{},"sourceType":"script"}